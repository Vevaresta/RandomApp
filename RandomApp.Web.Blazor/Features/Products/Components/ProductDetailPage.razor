@page "/product/{Id:int}"
@using RandomApp.Web.Client
@inject IProductDisplayService ProductDisplayService
@using RandomApp.ProductManagement.Application.DataTransferObjects

<div class="container">

    @if (productDto != null)
    {
        <div class="container mt-4">
            <h2>@productDto.Title</h2>
            <div class="row">
                <div class="col-md-8">
                    <p class="lead">@productDto.Description</p>
                    <div class="mt-3">
                        <p><strong>Price:</strong> @productDto.Price</p>
                        <p><strong>Category:</strong> @productDto.Category</p>
                        @if (!string.IsNullOrEmpty(productDto.Image))
                        {
                            <img src="@productDto.Image" class="img-fluid mt-3" />
                        }
                    </div>
                </div>
            </div>
        </div>

        // Quantity
        <div class="mb-4">
            <div class="d-flex align-items-center">
                <label class="m-2">Quantity:</label>
                <select class="form-select w-auto">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
            </div>
        </div>
        // Additional Info
        <div class="mt-4">
            <div class="d-flex align-items-center mb-2">
                <i class="bi bi-truck"></i>
                <span>Free shipping on orders over $50</span>
            </div>
            <div class="d-flex align-items-center mb-2">
                <i class="fas fa-undo text-primary me-2"></i>
                <span>30-day return policy</span>
            </div>
            <div class="d-flex align-items-center">
                <i class="fas fa-shield-alt text-primary me-2"></i>
                <span>2-year warranty</span>
            </div>
        </div>
    }
    else
    {
        <p>Loading...</p>
    }
</div>

@code{
    [Parameter]
    public int Id { get; set; }

    private ProductDto productDto;

    protected override async Task OnInitializedAsync()
    {
        productDto = await ProductDisplayService.GetProductByIdAsync(Id);
    }
}